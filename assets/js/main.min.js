function remove_item(e,r){console.log(e),jQuery(e).parent(".items").remove();var t=parseFloat(jQuery(e).attr("row_total")),i=parseFloat(jQuery("#pravel_final_caluculation").text())-t;jQuery("#pravel_final_caluculation").text(i)}function selected_product_price(e,r){var t=e.value,i=jQuery("#pravel_final_caluculation").text();i=parseFloat(i);var a=jQuery("#product_total_price"+r).val();a=parseFloat(a),t=parseFloat(t);var n=jQuery("#selected_product_qty_by_customer"+r).val();(""==(n=parseFloat(n))||!pravel_number_validation(n)||n<0)&&(n=0);var o=n*t;o=o.toFixed(2),jQuery("#product_total_price"+r).val(o),jQuery("#repeater_item_from_list .remove_item_"+r).attr("row_total",o);var s=i-a+(o=parseFloat(o));s=s.toFixed(2),jQuery("#pravel_final_caluculation").text(s)}function selected_product_qty_by_customer(e,r){var t=e.value;t=parseFloat(t);var i=jQuery("#pravel_final_caluculation").text();i=parseFloat(i);var a=jQuery("#product_total_price"+r).val();a=parseFloat(a);var n=jQuery("#selected_product_price_"+r).val();(0==(n=parseFloat(n))||""==t||!pravel_number_validation(t)||t<0)&&(n=0,t=0);var o=t*n;o=o.toFixed(2),jQuery("#product_total_price"+r).val(o),jQuery("#repeater_item_from_list .remove_item_"+r).attr("row_total",o);var s=i-a+(o=parseFloat(o));s=s.toFixed(2),jQuery("#pravel_final_caluculation").text(s)}function product_price(e,r){var t=e.value;t=parseFloat(t);var i=jQuery("#pravel_final_caluculation").text();i=parseFloat(i);var a=jQuery("#product_total_price_new"+r).val();a=parseFloat(a);var n=jQuery("#qty_by_customer_new"+r).val();(""==(n=parseFloat(n))||!pravel_number_validation(n)||n<0||""==t||!pravel_number_validation(t)||t<0)&&(n=0,t=0);var o=n*t;o=o.toFixed(2),jQuery("#product_total_price_new"+r).val(o),jQuery("#repeater_add_custom_item .remove_item_"+r).attr("row_total",o);var s=i-a+(o=parseFloat(o));s=s.toFixed(2),jQuery("#pravel_final_caluculation").text(s)}function qty_by_customer_new(e,r){var t=e.value;t=parseFloat(t);var i=jQuery("#pravel_final_caluculation").text();i=parseFloat(i);var a=jQuery("#product_total_price_new"+r).val();a=parseFloat(a);var n=jQuery("#product_price"+r).val();n=parseFloat(n),(""==t||!pravel_number_validation(t)||t<0||""==n||!pravel_number_validation(n)||n<0)&&(n=0,t=0);var o=t*n;o=o.toFixed(2),jQuery("#product_total_price_new"+r).val(o),jQuery("#repeater_add_custom_item .remove_item_"+r).attr("row_total",o);var s=i-a+(o=parseFloat(o));s=s.toFixed(2),jQuery("#pravel_final_caluculation").text(s)}function validateEmail(e){return/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e)}function pravel_strong_password(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)}function pravel_number_validation(e){return/^\s*[+-]?(\d+|\.\d+|\d+\.\d+|\d+\.)(e[+-]?\d+)?\s*$/.test(e)}function pravel_mobile_number_validation(e){return/^(\+\d{1,3}[- ]?)?\d{10}$/.test(e)}function pravel_open_tab(e,r){var t,i,a;for(jQuery(".tabcontent").hide(),i=document.getElementsByClassName("tabcontent"),t=0;t<i.length;t++){for(i[t].style.display="none",a=document.getElementsByClassName("tablinks"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active","");document.getElementById(r).style.display="block",e.currentTarget.className+=" active"}}jQuery(document).ready(function(){jQuery("#repeater_add_custom_item").createRepeater({showFirstItemToDefault:!0}),jQuery("#repeater_item_from_list").createRepeater({showFirstItemToDefault:!0}),jQuery("#pravel_invoice_product_table").DataTable({searching:!0,lengthChange:!0}),jQuery("#pravel_invoice_data").DataTable({searching:!0,lengthChange:!0}),jQuery("#pravel_invoice_add_new_product").click(function(){jQuery("#pravel_add_product_modal").css("display","flex")}),jQuery(".pravel_open_product_edit_popup").click(function(){var e=jQuery(this).attr("data-id");jQuery("#pravel_edit_product_modal_"+e).css("display","flex")}),jQuery(".pravel_invoice_close").click(function(){jQuery(".pravel_model_class").css("display","none")}),jQuery("#pravel_create_new").click(function(){jQuery("#pravel_create_invoice_modal").css("display","flex")}),jQuery(".pravel_open_invoice_popup").click(function(){var e=jQuery(this).attr("data-id");jQuery("#pravel_view_invoice_"+e).css("display","flex")}),jQuery(".pravel_print_click").click(function(){window.print()}),jQuery(".pravel_mail_invoice").click(function(){var e=jQuery(this).attr("data-email"),r=jQuery(this).attr("data-id");""!=e&&"Not Mention"!=e?jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_mail_send",invoice_id:r,customer_email:e},success:function(e){1==e.success?(swal({title:"success",text:"Successfully mail sent",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}}):jQuery("#pravel_email_section_"+r).show("slow")}),jQuery(".pravel_send_invoice").click(function(){var e=jQuery(this).attr("data-id"),r=jQuery("#pravel_send_email_invoice_"+e).val();""!=r&&validateEmail(r)?jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_mail_send",invoice_id:e,customer_email:r},success:function(e){1==e.success?(swal({title:"success",text:"Successfully mail sent",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}}):swal({title:"error",text:"Email Address is not valid",icon:"error"})}),jQuery("#pravel_create_invoice").click(function(){var e=jQuery("#pravel_current_userid").val(),r=!0;jQuery(".sign-input-box").removeClass("input_field_error"),jQuery(".field_error").text("").hide(),jQuery("#repeater_item_from_list .items").each(function(e){jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").children("option:selected").text();var t=jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").val(),i=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer]").val();(""==i||i<=0)&&0!=t&&(jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer]").focus(),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer]").parent(".sign-input-box").addClass("input_field_error"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer]").parent(".sign-input-box").children(".field_error").text("Enter Valid Quantity"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer]").parent(".sign-input-box").children(".field_error").show(),r=!1),0==t&&""!=i&&i>0&&(jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").focus(),jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").parent(".sign-input-box").addClass("input_field_error"),jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").parent(".sign-input-box").children(".field_error").text("Select Item From List"),jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").parent(".sign-input-box").children(".field_error").show(),r=!1)}),jQuery("#repeater_add_custom_item .items").each(function(e){var t=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_name]").val();t=jQuery.trim(t);var i=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_price]").val(),a=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer_new]").val();!(""==a||a<=0)||0==i&&""==t||(jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer_new]").focus(),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer_new]").parent(".sign-input-box").addClass("input_field_error"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer_new]").parent(".sign-input-box").children(".field_error").text("Enter Valid Quantity"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer_new]").parent(".sign-input-box").children(".field_error").show(),r=!1),(i<=0||""==i)&&(""!=a&&a>0||""!=t)&&(jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_price]").focus(),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_price]").parent(".sign-input-box").addClass("input_field_error"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_price]").parent(".sign-input-box").children(".field_error").text("Enter Valid Price"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_price]").parent(".sign-input-box").children(".field_error").show(),r=!1),""==t&&(""!=a&&a>0||i>0&&""!=i)&&(jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_name]").focus(),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_name]").parent(".sign-input-box").addClass("input_field_error"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_name]").parent(".sign-input-box").children(".field_error").text("Enter Product Name"),jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_name]").parent(".sign-input-box").children(".field_error").show(),r=!1)});var t=jQuery("#customer_first_name").val(),i=jQuery("#customer_last_name").val(),a=jQuery("#customer_email").val(),n=jQuery("#customer_mobile_number").val();pravel_mobile_number_validation(n)||(jQuery("#customer_mobile_number").focus(),jQuery("#customer_mobile_number").parent(".sign-input-box").addClass("input_field_error"),jQuery("#customer_mobile_number").parent(".sign-input-box").children(".field_error").text("Mobile Number is not valid or empty"),jQuery("#customer_mobile_number").parent(".sign-input-box").children(".field_error").show(),r=!1),validateEmail(a)||(jQuery("#customer_email").focus(),jQuery("#customer_email").parent(".sign-input-box").addClass("input_field_error"),jQuery("#customer_email").parent(".sign-input-box").children(".field_error").text("Email Address is not vaild"),jQuery("#customer_email").parent(".sign-input-box").children(".field_error").show(),r=!1),""==i&&(jQuery("#customer_last_name").focus(),jQuery("#customer_last_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#customer_last_name").parent(".sign-input-box").children(".field_error").text("Enter Last Name of Customer"),jQuery("#customer_last_name").parent(".sign-input-box").children(".field_error").show(),r=!1),""==t&&(jQuery("#customer_first_name").focus(),jQuery("#customer_first_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#customer_first_name").parent(".sign-input-box").children(".field_error").text("Enter First Name of Customer"),jQuery("#customer_first_name").parent(".sign-input-box").children(".field_error").show(),r=!1),setTimeout(function(){if(1==r){var o={},s=0;jQuery("#repeater_item_from_list .items").each(function(e){var r=jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").children("option:selected").text(),t=jQuery(this).children(".item-content").children(".sign-input-box").children("select[data-name=product_select_from_list]").val(),i=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer]").val(),a=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_total_price]").val();0!==t&&i>0&&""!=i&&(o[s]={selected_item_name:r,selected_item_price:t,pravel_qty:i,total_row_price:a},s++)}),jQuery("#repeater_add_custom_item .items").each(function(e){var r=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_name]").val();r=jQuery.trim(r);var t=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_price]").val(),i=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=qty_by_customer_new]").val(),a=jQuery(this).children(".item-content").children(".sign-input-box").children("input[data-name=product_total_price_new]").val();""!=r&&t>0&&0!==t&&i>0&&""!=i&&(o[s]={selected_item_name:r,selected_item_price:t,pravel_qty:i,total_row_price:a},s++)});var u=Object.keys(o).length,l=jQuery("#pravel_final_caluculation").text();0==u?jQuery(".invoice_error_message").show():jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_create",customer_first_name:t,customer_last_name:i,customer_email:a,customer_mobile_number:n,items:o,invoice_total:l,user_id:e},beforeSend:function(){jQuery("#pravel_create_invoice").attr("disabled",!0)},success:function(e){console.log(e),1==e.success?(jQuery("#pravel_create_invoice").attr("disabled",!1),jQuery("p.error_pravel").addClass("success"),jQuery("p.error_pravel").text(e.message),jQuery(".pravel_model_class").hide(),swal({title:"success",text:"Successfully invoice created",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}})}},1e3)}),jQuery(".pravel_remove_invoice").click(function(){swal({title:"Are you sure?",text:"Once deleted, you will not be able to get this invoice again!",icon:"warning",buttons:!0,dangerMode:!0}).then(e=>{if(e){var r=jQuery(this).attr("data-id"),t=jQuery("#pravel_current_userid").val();jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_delete",product_id:r,user_id:t},success:function(e){1==e.success?(jQuery("p.error_pravel").addClass("success"),jQuery("p.error_pravel").text(e.message),swal({title:"success",text:"Successfully delete invoice from your list",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}})}})}),jQuery("#pravel_invoice_add_product").click(function(){jQuery(".sign-input-box").removeClass("input_field_error"),jQuery(".field_error").hide();var e=jQuery.trim(jQuery("#pravel_invoice_product_name").val()),r=jQuery.trim(jQuery("#pravel_invoice_product_price").val()),t=jQuery("#pravel_current_userid").val();if(""==r&&(jQuery("#pravel_invoice_product_price").focus(),jQuery("#pravel_invoice_product_price").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").text("Enter Valid Price"),jQuery("#pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").show()),""==e&&(jQuery("#pravel_invoice_product_name").focus(),jQuery("#pravel_invoice_product_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_invoice_product_name").parent(".sign-input-box").children(".field_error").text("Product Name is Required"),jQuery("#pravel_invoice_product_name").parent(".sign-input-box").children(".field_error").show()),""!=e&&""!=r)return!pravel_number_validation(r)||r<=0?(jQuery("#pravel_invoice_product_price").focus(),jQuery("#pravel_invoice_product_price").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").text("Enter Valid Price"),void jQuery("#pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").show()):void jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_product_add",product_name:e,product_price:r,user_id:t},success:function(e){1==e.success?(jQuery("p.error_pravel").addClass("success"),jQuery("p.error_pravel").text(e.message),jQuery("#pravel_add_product_modal").hide(),swal({title:"success",text:"Successfully add product in your list",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}})}),jQuery(".pravel_edit_product").click(function(){jQuery(".sign-input-box").removeClass("input_field_error"),jQuery(".field_error").hide();var e=jQuery(this).attr("data-id"),r=jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_name").val(),t=jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").val(),i=!0;(""==t||t<=0)&&(jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").focus(),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").text("Enter Valid Price"),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").show(),i=!1),""==r&&(jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_name").focus(),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_name").parent(".sign-input-box").children(".field_error").text("Product Name is Required"),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_name").parent(".sign-input-box").children(".field_error").show(),i=!1),pravel_number_validation(t)||(jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").focus(),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").text("Enter Valid Price"),jQuery("#pravel_edit_product_modal_"+e+" input.pravel_invoice_product_price").parent(".sign-input-box").children(".field_error").show(),i=!1),1==i&&jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_product_edit",product_name:r,product_price:t,product_id:e},success:function(r){1==r.success?(jQuery("p.error_pravel").addClass("success"),jQuery("p.error_pravel").text(r.message),jQuery("#pravel_edit_product_modal_"+e).hide(),swal({title:"success",text:"Successfully edit product",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}})}),jQuery(".pravel_remove_product").click(function(){swal({title:"Are you sure?",text:"Once deleted, you will not be able to get this product again!",icon:"warning",buttons:!0,dangerMode:!0}).then(e=>{if(e){var r=jQuery(this).attr("data-id"),t=jQuery("#pravel_current_userid").val();jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_product_delete",product_id:r,user_id:t},success:function(e){1==e.success?(jQuery("p.error_pravel").addClass("success"),jQuery("p.error_pravel").text(e.message),swal({title:"success",text:"Successfully delete product from your list",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text("Somthing is wrong"))}})}})}),jQuery("#login_user").click(function(){jQuery("p.error_pravel").hide(),jQuery(".input-box").removeClass("input_field_error"),jQuery(".field_error").hide();var e=jQuery("#login_email").val(),r=jQuery("#login_password").val();""==r&&(jQuery("#login_password").focus(),jQuery("#login_password").parent(".input-box").addClass("input_field_error"),jQuery("#login_password").parent(".input-box").children(".field_error").text("Password is Required"),jQuery("#login_password").parent(".input-box").children(".field_error").show()),""==e&&(jQuery("#login_email").focus(),jQuery("#login_email").parent(".input-box").addClass("input_field_error"),jQuery("#login_email").parent(".input-box").children(".field_error").text("Email is Required"),jQuery("#login_email").parent(".input-box").children(".field_error").show()),""!=e&&""!=r&&(jQuery("p.error_pravel").text(ajax_login_object.loadingmessage),jQuery("p.error_pravel").show(),jQuery.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"pravel_invoice_ajaxlogin",username:e,password:r,security:jQuery("#login-form #security").val()},success:function(e){1==e.loggedin?(jQuery("p.error_pravel").addClass("success"),jQuery("p.error_pravel").text(e.message),setTimeout(function(){window.location.href=home_url},2e3)):(jQuery("p.error_pravel").removeClass("success"),jQuery("p.error_pravel").text(e.message))}}))}),jQuery("#forgot_password_submit").click(function(){var e=jQuery("#user_email_fpassword").val(),r=jQuery(location).attr("href");""!=e?validateEmail(e)?jQuery.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"pravel_invoice_forgot_password",user_email:e,pageURL:r},beforeSend:function(){jQuery("#forgot_password_submit").prop("disabled",!0),jQuery(".loading_screeen").show()},success:function(e){jQuery(".loading_screeen").hide(),jQuery("#forgot_password_submit").prop("disabled",!1),0==e.activation?(jQuery("p.show_reg_error_message").removeClass("success"),jQuery(".show_reg_error_message").show().text(e.message)):(jQuery("p.show_reg_error_message").addClass("success"),jQuery(".show_reg_error_message").show().text(e.message),setTimeout(function(){window.location.href=home_url},2e3))}}):jQuery(".show_reg_error_message").show().text("Email is not vaild"):jQuery(".show_reg_error_message").show().text("Enter your registered email")}),jQuery("#change_password_new").click(function(){var e=jQuery("#new_password_custom").val(),r=jQuery("#confirm_password_custom").val(),t=jQuery("#reset_user_id").val(),i=jQuery("#reset_activation_code").val();pravel_strong_password(e)?""!=e&&""!=r&&e==r?jQuery.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"pravel_invoice_change_password",new_password_custom:e,reset_user_id:t,reset_activation_code:i},beforeSend:function(){jQuery("#change_password_new").prop("disabled",!0),jQuery(".show_reg_error_message").hide(),jQuery(".loading_screeen").show()},success:function(e){jQuery(".loading_screeen").hide(),jQuery("#change_password_new").prop("disabled",!1),0==e.activation?(jQuery("p.show_reg_error_message").removeClass("success"),jQuery(".show_reg_error_message").show().text(e.message)):(jQuery("p.show_reg_error_message").addClass("success"),jQuery(".show_reg_error_message").show().text(e.message),setTimeout(function(){window.location.href=home_url},2e3))}}):jQuery(".show_reg_error_message").show().text("Enter same password for both field"):jQuery(".show_reg_error_message").show().text("You need to add strong password with 8 character long and also include atleast 1 digit, 1 special character and 1 Uppercase letter")}),jQuery("#edit_business_data").click(function(e){e.preventDefault(),jQuery(".sign-input-box").removeClass("input_field_error"),jQuery(".field_error").hide();var r=jQuery.trim(jQuery("#company_name").val()),t=jQuery.trim(jQuery("#company_address_1").val()),i=jQuery.trim(jQuery("#company_address_2").val()),a=jQuery.trim(jQuery("#company_city").val()),n=jQuery.trim(jQuery("#company_pincode").val()),o=jQuery.trim(jQuery("#pravel_current_userid").val()),s=(jQuery("#company_logo").prop("files")[0],jQuery("#company_logo").val()),u=s.substring(s.lastIndexOf(".")+1).toLowerCase(),l=!0;if("jpg"!=u&&"png"!=u&&"jpeg"!=u&&""!=u){jQuery("#company_logo").focus(),jQuery("#company_logo").parent(".sign-input-box").addClass("input_field_error"),jQuery("#company_logo").parent(".sign-input-box").children(".field_error").text("select valid image like PNG, JPG, JPEG"),jQuery("#company_logo").parent(".sign-input-box").children(".field_error").show();l=!1}if(0!=l){var _=new FormData,c=jQuery(document).find('input[type="file"]')[0].files[0];_.append("file",c),_.append("company_name",r),_.append("company_address_1",t),_.append("company_address_2",i),_.append("company_city",a),_.append("company_pincode",n),_.append("user_id",o),_.append("action","pravel_invoice_edit_business"),jQuery.ajax({type:"POST",url:ajax_user_object.ajaxurl,data:_,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){jQuery(".loading_screeen").show()},success:function(e){console.log(e),1==e.edit&&(jQuery(".loading_screeen").hide(),swal({title:"success",text:"Successfully updated business Info",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3))}})}}),jQuery("#edit_account_data").click(function(){jQuery(".sign-input-box").removeClass("input_field_error"),jQuery(".field_error").hide();var e=jQuery.trim(jQuery("#user_first_name").val()),r=jQuery.trim(jQuery("#user_last_name").val()),t=jQuery.trim(jQuery("#user_email").val()),i=jQuery.trim(jQuery("#mobile_number").val()),a=jQuery.trim(jQuery("#pravel_current_userid").val());pravel_mobile_number_validation(i)||(jQuery("#mobile_number").focus(),jQuery("#mobile_number").parent(".sign-input-box").addClass("input_field_error"),jQuery("#mobile_number").parent(".sign-input-box").children(".field_error").text("Mobile Number is Not valid"),jQuery("#mobile_number").parent(".sign-input-box").children(".field_error").show()),""==i&&(jQuery("#mobile_number").focus(),jQuery("#mobile_number").parent(".sign-input-box").addClass("input_field_error"),jQuery("#mobile_number").parent(".sign-input-box").children(".field_error").text("Mobile Number is Required"),jQuery("#mobile_number").parent(".sign-input-box").children(".field_error").show()),validateEmail(t)||(jQuery("#user_email").focus(),jQuery("#user_email").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").text("Email is not valid"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").show()),""==t&&(jQuery("#user_email").focus(),jQuery("#user_email").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").text("Email is Required"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").show()),""==r&&(jQuery("#user_last_name").focus(),jQuery("#user_last_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_last_name").parent(".sign-input-box").children(".field_error").text("Last Name is Required"),jQuery("#user_last_name").parent(".sign-input-box").children(".field_error").show()),""==e&&(jQuery("#user_first_name").focus(),jQuery("#user_first_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_first_name").parent(".sign-input-box").children(".field_error").text("First Name is Required"),jQuery("#user_first_name").parent(".sign-input-box").children(".field_error").show()),""!=e&&""!=r&&""!=t&&""!=i&&validateEmail(t)&&pravel_mobile_number_validation(i)&&jQuery.ajax({type:"POST",dataType:"json",url:ajax_user_object.ajaxurl,data:{action:"pravel_invoice_edit_account",user_first_name:e,user_last_name:r,user_email:t,user_mobile_number:i,user_id:a},beforeSend:function(){jQuery(".loading_screeen").show()},success:function(e){1==e.edit&&(jQuery(".loading_screeen").hide(),swal({title:"success",text:"Successfully updated account data",icon:"success"}),setTimeout(function(){location.reload(!0)},2e3))}})}),jQuery("#invoice_next_page_show").click(function(){switch(jQuery(".sign-form.form_on").attr("form_on")){case"form_1":var e=jQuery.trim(jQuery("#user_first_name").val()),r=jQuery.trim(jQuery("#user_last_name").val()),t=jQuery.trim(jQuery("#user_email").val()),i=jQuery.trim(jQuery("#user_name").val()),a=jQuery("#pravel_select_role").val(),n=jQuery.trim(jQuery("#user_password").val()),o=jQuery.trim(jQuery("#user_c_password").val());if(jQuery(".sign-input-box").removeClass("input_field_error"),jQuery(".field_error").hide(),""==o&&(jQuery("#user_c_password").focus(),jQuery("#user_c_password").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_c_password").parent(".sign-input-box").children(".field_error").text("Confirm Password is Required"),jQuery("#user_c_password").parent(".sign-input-box").children(".field_error").show()),0==a&&(jQuery("#pravel_select_role").focus(),jQuery("#pravel_select_role").parent(".sign-input-box").addClass("input_field_error"),jQuery("#pravel_select_role").parent(".sign-input-box").children(".field_error").text("Select Your Role"),jQuery("#pravel_select_role").parent(".sign-input-box").children(".field_error").show()),""==n&&(jQuery("#user_password").focus(),jQuery("#user_password").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_password").parent(".sign-input-box").children(".field_error").text("Password is Required"),jQuery("#user_password").parent(".sign-input-box").children(".field_error").show()),""==i&&(jQuery("#user_name").focus(),jQuery("#user_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_name").parent(".sign-input-box").children(".field_error").text("User Name is Required"),jQuery("#user_name").parent(".sign-input-box").children(".field_error").show()),""==t&&(jQuery("#user_email").focus(),jQuery("#user_email").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").text("Email is Required"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").show()),""==r&&(jQuery("#user_last_name").focus(),jQuery("#user_last_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_last_name").parent(".sign-input-box").children(".field_error").text("Last Name is Required"),jQuery("#user_last_name").parent(".sign-input-box").children(".field_error").show()),""==e&&(jQuery("#user_first_name").focus(),jQuery("#user_first_name").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_first_name").parent(".sign-input-box").children(".field_error").text("First Name is Required"),jQuery("#user_first_name").parent(".sign-input-box").children(".field_error").show()),validateEmail(t)||(jQuery("#user_email").focus(),jQuery("#user_email").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").text("Email is not valid"),jQuery("#user_email").parent(".sign-input-box").children(".field_error").show()),pravel_strong_password(n)||(jQuery("#user_password").focus(),jQuery("#user_password").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_password").parent(".sign-input-box").children(".field_error").text("You need to add strong password with 8 character long and also include atleast 1 digit, 1 special character and 1 Uppercase letter"),jQuery("#user_password").parent(".sign-input-box").children(".field_error").show()),n!=o&&(jQuery("#user_c_password").focus(),jQuery("#user_c_password").parent(".sign-input-box").addClass("input_field_error"),jQuery("#user_c_password").parent(".sign-input-box").children(".field_error").text("Confirm password is not same as Password"),jQuery("#user_c_password").parent(".sign-input-box").children(".field_error").show()),""==e||""==r||""==t||""==i||0==a||""==n||""==o||!validateEmail(t)||!pravel_strong_password(n)||n!=o)return;jQuery.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"pravel_invoice_email_check",user_email:t,user_name:i,security:jQuery("#login-form #security").val()},beforeSend:function(){jQuery(".loading_screeen").show()},success:function(o){jQuery(".loading_screeen").hide(),0==o.signup?jQuery(".show_reg_error_message").show().text(o.message):jQuery.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"pravel_invoice_ajaxregister",user_first_name:e,user_last_name:r,user_email:t,user_name:i,user_password:n,pravel_select_role:a,security:jQuery("#login-form #security").val()},beforeSend:function(){jQuery(".loading_screeen").show()},success:function(e){jQuery(".loading_screeen").hide(),jQuery("p.show_reg_error_message").addClass("success"),jQuery("p.show_reg_error_message").show().text(e.message),jQuery(".show_reg_error_message").hide(),jQuery(".sign-form.form_on").removeClass("form_on"),jQuery(".sign-form.sign-step02").addClass("form_on")}})}});break;case"form_2":var s=jQuery("#inp_1").val()+jQuery("#inp_2").val()+jQuery("#inp_3").val()+jQuery("#inp_4").val();jQuery.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"pravel_invoice_check_activation",activation_code:s},beforeSend:function(){jQuery(".loading_screeen").show()},success:function(e){jQuery(".loading_screeen").hide(),0==e.activation?(jQuery("p.show_reg_error_message").removeClass("success"),jQuery(".show_reg_error_message").show().text(e.message)):(jQuery("p.show_reg_error_message").addClass("success"),jQuery(".show_reg_error_message").show().text(e.message),setTimeout(function(){window.location.href=home_url},2e3))}})}}),jQuery(".verification_code input").jqueryPincodeAutotab(),jQuery(".remove-btn").click(function(){var e=parseFloat(jQuery(this).attr("row_total")),r=parseFloat(jQuery("#pravel_final_caluculation").text())-e;r=r.toFixed(2),jQuery("#pravel_final_caluculation").text(r)})});